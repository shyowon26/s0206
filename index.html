<!DOCTYPE html>
<html>
<head>
    <title>Guest Book</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            // emailjs.com에서 생성한 사용자 ID로 대체해주세요.
            emailjs.init('UwNnEPnEB2bkdPcax');
        })();
    </script>
    <script type="text/javascript">
        function showPopup() {
            var name = document.getElementById('gb_name').value;
            var message = document.getElementById('gb_comment').value;
            var sendTime = new Date().toLocaleString();

            if (name.trim() === '' || message.trim() === '') {
                var errorPopup = document.querySelector('.error-popup');
                errorPopup.style.display = 'block';
            } else {
                var templateParams = {
                    to_name: name,
                    message: message,
                    send_time: sendTime
                };

                emailjs.send('YOUR_SERVICE_ID', 'YOUR_TEMPLATE_ID', templateParams)
                    .then(function(response) {
                        var popup = document.querySelector('.popup');
                        popup.style.display = 'block';
                    }, function(error) {
                        console.error('이메일 전송 에러:', error);
                    });
            }
        }

        function hidePopup() {
            var popup = document.querySelector('.popup');
            var errorPopup = document.querySelector('.error-popup');
            popup.style.display = 'none';
            errorPopup.style.display = 'none';
        }
    </script>
</head>
<body>
    <!-- guestBookWrap -->
    <section class="guestBookWrap" id="guestBookWrap">
        <div class="guestBookInner">
            <div class="secTitleWrap t5">
                <h2 class="hanTit ranTxt">
                    <span class="ran r6">G</span><span class="ran r4">U</span><span class="ran r1">E</span><span
                        class="ran r9">S</span><span class="ran r3">T</span> <span class="ran r2"> </span>
                    <span class="ran r8">B</span><span class="ran r3">O</span><span class="ran r5">O</span><span
                        class="ran r4">K</span>
                </h2>
            </div>
            <div class="waveText">
                <div class="swiperInfo">옆으로 넘겨 축하 메세지를 확인해 보세요!</div>
                <div class="swiper guestBookSwiper">
                    <!-- 방명록 내용 -->
                </div>
                <div class="swiperPaing">
                    <span class="btn prev">이전</span>
                    <div class="number">
                        <span>1</span> / 6 페이지
                    </div>
                    <span class="btn next">다음</span>
                </div>
            </div>
        </div>
        <div class="guestBookEnter">
            <div class="mt">
                <!-- comWrap -->
                <div class="comWrap">
                    <p class="txt"><span>따뜻한 축하의 마음을 <strong>참석여부와 함께 전해주세요.</strong></span></p>
                    <div class="inputWrap">
                        <form name="fguest_book" id="fguest_book" onsubmit="return false">
                            <input type="hidden" name="gb_to" id="gb_to" value="tpl_maleface">
                            <input type="hidden" name="ca_name" value="청첩장">
                            <input type="hidden" name="site_name" value="wedding08">
                            <div class="in">
                                <div class="user">
                                    <div class="selBox">
                                        <ul class="list">
                                            <li>
                                                <input type="radio" checked name="send" id="h02" value="face1.png" data-gb_to="tpl_maleface">
                                                <label for="h02">
                                                    <div class="img"><img src="face1.png" alt=""></div>신랑에게
                                                </label>
                                            </li>
                                            <li>
                                                <input type="radio" name="send" id="h01" value="face2.png" data-gb_to="tpl_femaleface">
                                                <label for="h01">
                                                    <div class="img"><img src="face2.png" alt=""></div>신부에게
                                                </label>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="inputBox">
                                    <input type="text" name="gb_name" id="gb_name" class="ipText" placeholder="성함을 입력해주세요." maxlength="40">
                                </div>
                                <div class="inputBox">
                                    <input type="text" name="gb_comment" id="gb_comment" class="ipText" placeholder="축하 메시지를 입력해주세요. (최대 40자)" maxlength="40">
                                </div>
                                <div class="btnComment">
                                    <a href="javascript:;" onclick="showPopup()">
                                        <img src="/assets/dist/image/favicon-32x32.png" alt="전송" class="sendButtonImage">
                                    </a>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <!-- //comWrap -->
            </div>
        </div>
    </section>
    <!-- //guestBookWrap -->

    <!-- 팝업 -->
    <div class="popup">
        <div class="popupInner">
            <div class="popupContent">
                <h3>전송 완료</h3>
                <p>메시지가 성공적으로 전송되었습니다.</p>
                <button class="closePopup" onclick="hidePopup()">닫기</button>
            </div>
        </div>
    </div>

    <div class="error-popup popup">
        <div class="popupInner">
            <div class="popupContent">
                <h3>전송 실패</h3>
                <p>빈칸을 채워주세요.</p>
                <button class="closePopup" onclick="hidePopup()">닫기</button>
            </div>
        </div>
    </div>
</body>
</html>
